<style>
    .post__details {
        padding: 0.25rem 1rem;
        border-radius: 0.75rem;
        background-color: var(--c-bg);
        box-shadow: 0 0.25rem 0.5rem var(--c-shadow);
        min-width: 17.5rem;
        height: fit-content;
    }

    .post__details table {
        border-collapse: collapse;
        width: 100%;
    }

    .post__details tr {
        border-top: 1px solid var(--c-secondary-bg);
        width: 100%;
    }

    .post__details tr:first-child {
        border-top: none;
    }

    .post__details td:first-child {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        color: var(--c-gray);
    }

    .post__details td:last-child {
        text-align: right;
    }

    .post__details td {
        padding: 0.75rem 0;
    }

    .post__summary {
        --bullet-size: 0.75rem;
        --padding-left: 2rem;

        margin-top: 2rem;
        padding: 1rem;
        border-radius: 0.75rem;
        background-color: var(--c-bg);
        box-shadow: 0 0.25rem 0.5rem var(--c-shadow);

        position: sticky;
        top: 2rem;
    }

    .post__summary > h1 {
        margin: 0;
        font-size: 1rem;
        font-weight: 600;
    }

    .post__summary__list {
        list-style: none;
        padding: 0 0 0 var(--padding-left);
        margin: 1rem 0 0 0;
        position: relative;
    }

    .post__summary__list::before {
        content: "";
        display: block;
        position: absolute;
        z-index: 0;
        height: calc(100% - (var(--bullet-size) * 3));
        width: 2px;
        top: var(--bullet-size);
        transform: translateX(calc(-1 * var(--padding-left) / 2 - 50%));
        background-color: var(--c-article-bg);
    }

    .post__summary__list li {
        position: relative;
        cursor: pointer;
        color: var(--c-gray);
    }

    .post__summary__list h1,
    .post__summary__list h2 {
        font-size: 1rem;
        font-weight: 600;
        margin: 0.75rem 0 0 0;
    }

    .post__summary__list h2 {
        font-weight: 400;
    }

    .post__summary__list h2::before {
        --bullet-size: 0.5rem;
    }

    .post__summary__list h1::before,
    .post__summary__list h2::before {
        content: "";
        display: block;
        height: var(--bullet-size);
        width: var(--bullet-size);
        background-color: var(--c-article-bg);
        position: absolute;
        top: 50%;
        left: 0;
        transform: translateY(-50%)
            translateX(calc(-1 * var(--padding-left) / 2 - 50%));
        z-index: 1;
        border-radius: 100%;
        border: 1px solid var(--c-bg);
    }

    .post__summary__list li.active {
        color: var(--c-body);
    }

    .post__summary__list li.active h1::before,
    .post__summary__list li.active h2::before {
        background-color: var(--c-primary);
    }
</style>

<div>
    <div class="post__details">
        <table>
            <tr>
                <td>
                    <svg
                        width="15"
                        height="15"
                        viewBox="0 0 15 15"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                    >
                        <path
                            d="M11.8536 1.14645C11.6583 0.951184 11.3417 0.951184 11.1465 1.14645L3.71455 8.57836C3.62459 8.66832 3.55263 8.77461 3.50251 8.89155L2.04044 12.303C1.9599 12.491 2.00189 12.709 2.14646 12.8536C2.29103 12.9981 2.50905 13.0401 2.69697 12.9596L6.10847 11.4975C6.2254 11.4474 6.3317 11.3754 6.42166 11.2855L13.8536 3.85355C14.0488 3.65829 14.0488 3.34171 13.8536 3.14645L11.8536 1.14645ZM4.42166 9.28547L11.5 2.20711L12.7929 3.5L5.71455 10.5784L4.21924 11.2192L3.78081 10.7808L4.42166 9.28547Z"
                            fill="currentColor"
                            fill-rule="evenodd"
                            clip-rule="evenodd"
                        ></path>
                    </svg>
                    author
                </td>

                <td>Nathan Pham</td>
            </tr>

            <tr>
                <td>
                    <svg
                        width="15"
                        height="15"
                        viewBox="0 0 15 15"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                    >
                        <path
                            d="M4.5 1C4.77614 1 5 1.22386 5 1.5V2H10V1.5C10 1.22386 10.2239 1 10.5 1C10.7761 1 11 1.22386 11 1.5V2H12.5C13.3284 2 14 2.67157 14 3.5V12.5C14 13.3284 13.3284 14 12.5 14H2.5C1.67157 14 1 13.3284 1 12.5V3.5C1 2.67157 1.67157 2 2.5 2H4V1.5C4 1.22386 4.22386 1 4.5 1ZM10 3V3.5C10 3.77614 10.2239 4 10.5 4C10.7761 4 11 3.77614 11 3.5V3H12.5C12.7761 3 13 3.22386 13 3.5V5H2V3.5C2 3.22386 2.22386 3 2.5 3H4V3.5C4 3.77614 4.22386 4 4.5 4C4.77614 4 5 3.77614 5 3.5V3H10ZM2 6V12.5C2 12.7761 2.22386 13 2.5 13H12.5C12.7761 13 13 12.7761 13 12.5V6H2ZM7 7.5C7 7.22386 7.22386 7 7.5 7C7.77614 7 8 7.22386 8 7.5C8 7.77614 7.77614 8 7.5 8C7.22386 8 7 7.77614 7 7.5ZM9.5 7C9.22386 7 9 7.22386 9 7.5C9 7.77614 9.22386 8 9.5 8C9.77614 8 10 7.77614 10 7.5C10 7.22386 9.77614 7 9.5 7ZM11 7.5C11 7.22386 11.2239 7 11.5 7C11.7761 7 12 7.22386 12 7.5C12 7.77614 11.7761 8 11.5 8C11.2239 8 11 7.77614 11 7.5ZM11.5 9C11.2239 9 11 9.22386 11 9.5C11 9.77614 11.2239 10 11.5 10C11.7761 10 12 9.77614 12 9.5C12 9.22386 11.7761 9 11.5 9ZM9 9.5C9 9.22386 9.22386 9 9.5 9C9.77614 9 10 9.22386 10 9.5C10 9.77614 9.77614 10 9.5 10C9.22386 10 9 9.77614 9 9.5ZM7.5 9C7.22386 9 7 9.22386 7 9.5C7 9.77614 7.22386 10 7.5 10C7.77614 10 8 9.77614 8 9.5C8 9.22386 7.77614 9 7.5 9ZM5 9.5C5 9.22386 5.22386 9 5.5 9C5.77614 9 6 9.22386 6 9.5C6 9.77614 5.77614 10 5.5 10C5.22386 10 5 9.77614 5 9.5ZM3.5 9C3.22386 9 3 9.22386 3 9.5C3 9.77614 3.22386 10 3.5 10C3.77614 10 4 9.77614 4 9.5C4 9.22386 3.77614 9 3.5 9ZM3 11.5C3 11.2239 3.22386 11 3.5 11C3.77614 11 4 11.2239 4 11.5C4 11.7761 3.77614 12 3.5 12C3.22386 12 3 11.7761 3 11.5ZM5.5 11C5.22386 11 5 11.2239 5 11.5C5 11.7761 5.22386 12 5.5 12C5.77614 12 6 11.7761 6 11.5C6 11.2239 5.77614 11 5.5 11ZM7 11.5C7 11.2239 7.22386 11 7.5 11C7.77614 11 8 11.2239 8 11.5C8 11.7761 7.77614 12 7.5 12C7.22386 12 7 11.7761 7 11.5ZM9.5 11C9.22386 11 9 11.2239 9 11.5C9 11.7761 9.22386 12 9.5 12C9.77614 12 10 11.7761 10 11.5C10 11.2239 9.77614 11 9.5 11Z"
                            fill="currentColor"
                            fill-rule="evenodd"
                            clip-rule="evenodd"
                        ></path>
                    </svg>
                    published
                </td>

                <td>{{post.metadata.date}}</td>
            </tr>

            <tr>
                <td>
                    <svg
                        width="15"
                        height="15"
                        viewBox="0 0 15 15"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                    >
                        <path
                            d="M3.5 2C3.22386 2 3 2.22386 3 2.5V12.5C3 12.7761 3.22386 13 3.5 13H11.5C11.7761 13 12 12.7761 12 12.5V6H8.5C8.22386 6 8 5.77614 8 5.5V2H3.5ZM9 2.70711L11.2929 5H9V2.70711ZM2 2.5C2 1.67157 2.67157 1 3.5 1H8.5C8.63261 1 8.75979 1.05268 8.85355 1.14645L12.8536 5.14645C12.9473 5.24021 13 5.36739 13 5.5V12.5C13 13.3284 12.3284 14 11.5 14H3.5C2.67157 14 2 13.3284 2 12.5V2.5Z"
                            fill="currentColor"
                            fill-rule="evenodd"
                            clip-rule="evenodd"
                        ></path>
                    </svg>
                    words
                </td>

                <td>
                    approx. {{Math.ceil(post.content.split(' ').length / 10) *
                    10}}
                </td>
            </tr>
        </table>
    </div>

    <div class="post__summary">
        <h1>Table of Contents</h1>

        <ul class="post__summary__list">
            {{
                return post.tokens
                    .filter(({ type }) => ["h1", "h2"].includes(type))
                    .map(({ type, content }) => `<li><${type}>${content}</${type}></li>`)
                    .join("")
            }}
        </ul>
    </div>
</div>
